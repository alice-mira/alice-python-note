# Pythonç±»å’Œå¯¹è±¡

# ğŸŒ€ å¯¹è±¡å³å®‡å®™ï¼šPythoné¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç»ˆæå“²å­¦ä¸æ¶æ„è‰ºæœ¯

> **"æ²¡æœ‰å¯¹è±¡ï¼ŸPythonä¼šä¸ºä½ åˆ›å»º"**  
> **å½“99%å¼€å‘è€…è¿˜åœ¨å†™'ç±»'æ—¶ï¼ŒçœŸæ­£çš„æ¶æ„å¸ˆæ­£åœ¨ç”¨å¯¹è±¡é‡æ„æ•°å­—ä¸–ç•Œ**

---

## ğŸ’« ä¸€ã€Pythonå¯¹è±¡çš„æœ¬è´¨ï¼šè¶…è¶ŠC++/Javaçš„è®¤çŸ¥é©å‘½

```python
# ä½ ä»¥ä¸ºçš„ç±»å®šä¹‰
class User:
    def __init__(self, name):
        self.name = name

# ä½ ä¸çŸ¥é“çš„Pythonå¯¹è±¡çœŸç›¸
print(type(User))  # <class 'type'> â€”â€” ç±»æœ¬èº«ä¹Ÿæ˜¯å¯¹è±¡ï¼
print(User.__class__)  # <class 'type'>
print(type(1).__class__)  # <class 'type'> â€”â€” ä¸‡ç‰©çš†å¯¹è±¡ï¼
```

**Pythonå¯¹è±¡æ¨¡å‹çš„é¢ è¦†æ€§å®šä½**ï¼š  
âœ… **æ‰€æœ‰æ•°æ®éƒ½æ˜¯å¯¹è±¡**ï¼ˆåŒ…æ‹¬æ•°å­—ã€å‡½æ•°ã€æ¨¡å—ã€ç”šè‡³ç±»ï¼‰  
âœ… **å¯¹è±¡å³å®¹å™¨**ï¼šæ‹¥æœ‰æ ‡è¯†(identity)ã€ç±»å‹(type)å’Œå€¼(value)  
âœ… **åŠ¨æ€æ€§**ï¼šå¯¹è±¡å±æ€§å¯åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ /åˆ é™¤ï¼ˆä¸Java/C++æœ¬è´¨ä¸åŒï¼‰

```python
# å¯¹è±¡çš„åŠ¨æ€æ€§å®è¯
from types import SimpleNamespace

user = SimpleNamespace()
user.name = "Alice"
user.role = "developer"
del user.role  # è¿è¡Œæ—¶åˆ é™¤å±æ€§

# ç”šè‡³å¯ä»¥ä¿®æ”¹å†…ç½®ç±»å‹
int.__subclasses__ = lambda: ["hacked!"]
print(int.__subclasses__())  # è¾“å‡º "hacked!" â€”â€” å±é™©ä½†è¯æ˜äº†åŠ¨æ€æ€§
```

> ğŸ’¡ **å…³é”®æ´å¯Ÿ**ï¼š  
> **"Pythonä¸­ä¸å­˜åœ¨åŸå§‹ç±»å‹"**  
> - `1` æ˜¯ `int` ç±»çš„å®ä¾‹  
> - `def func():...` ä¼šäº§ç”Ÿ `function` ç±»çš„å®ä¾‹  
> - `class MyClass:` ä¼šäº§ç”Ÿ `type` ç±»çš„å®ä¾‹  
> 
> **Pythonçš„"ä¸€åˆ‡çš†å¯¹è±¡"æ˜¯å­—é¢æ„ä¹‰ä¸Šçš„å“²å­¦å‘½é¢˜**

---

## ğŸ§± äºŒã€ç±»çš„æ·±åº¦è§£å‰–ï¼šè¶…è¶Š`class`çš„å…ƒå®‡å®™

### 1. ç±»æ„å»ºçš„å››å±‚å¢ƒç•Œ

```python
# å¢ƒç•Œ1ï¼šåŸºç¡€ç±»ï¼ˆæ–°æ‰‹å¸¸ç”¨ï¼‰
class BasicUser:
    def __init__(self, name, age):
        self.name = name
        self.age = age

# å¢ƒç•Œ2ï¼šå¸¦æ–‡æ¡£çš„ç±»ï¼ˆå›¢é˜Ÿåä½œå¿…å¤‡ï¼‰
class DocumentedUser:
    """ä»£è¡¨ç³»ç»Ÿä¸­çš„ç”¨æˆ·å®ä½“
    
    Attributes:
        name: ç”¨æˆ·å…¨åï¼ˆä¸å¯ä¸ºç©ºï¼‰
        age: å¹´é¾„ï¼ˆ18-100ï¼‰
        _role: å†…éƒ¨è§’è‰²æ ‡è¯†
    """
    
    def __init__(self, name, age):
        ...

# å¢ƒç•Œ3ï¼šç±»å‹æ³¨è§£ç±»ï¼ˆIDEå‹å¥½å‹ï¼‰
class TypedUser:
    name: str
    age: int
    _role: str = "user"
    
    def __init__(self, name: str, age: int):
        self.name = name
        self.age = age

# å¢ƒç•Œ4ï¼šæ•°æ®ç±»ï¼ˆPython 3.7+çš„ç»ˆæå½¢æ€ï¼‰
from dataclasses import dataclass

@dataclass(frozen=True, order=True)
class ModernUser:
    name: str
    age: int
    role: str = "user"
```

> âœ¨ **ProæŠ€å·§**ï¼š  
> `@dataclass` è‡ªåŠ¨ç”Ÿæˆï¼š  
> - `__init__`  
> - `__repr__`  
> - `__eq__`  
> - `__lt__`ï¼ˆå½“`order=True`æ—¶ï¼‰  
> **å‡å°‘äº†70%çš„æ ·æ¿ä»£ç **ï¼Œè®©ç±»ä¸“æ³¨è¡¨è¾¾é¢†åŸŸé€»è¾‘

---

### 2. __init__ vs __new__ï¼šå¯¹è±¡è¯ç”Ÿçš„ä¸¤é‡é—¨

```python
class MetaSingleton(type):
    _instances = {}
    
    def __call__(cls, *args, **kwargs):
        """æ‹¦æˆªæ‰€æœ‰å®ä¾‹åŒ–è¯·æ±‚"""
        if cls not in cls._instances:
            # __new__ åˆ›å»ºå®ä¾‹
            # __init__ åˆå§‹åŒ–å®ä¾‹
            cls._instances[cls] = super(MetaSingleton, cls).__call__(*args, **kwargs)
        return cls._instances[cls]

class Singleton(metaclass=MetaSingleton):
    pass

# éªŒè¯å•ä¾‹
a = Singleton()
b = Singleton()
print(a is b)  # True
```

**å¯¹è±¡åˆ›å»ºç”Ÿå‘½å‘¨æœŸ**ï¼š  
1. `__new__`ï¼šè´Ÿè´£**åˆ›å»º**å®ä¾‹ï¼ˆç±»ä¼¼æ„é€ å‡½æ•°ï¼‰  
   - é™æ€æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯`cls`  
   - é€šå¸¸ç”¨äºä¸å¯å˜ç±»å‹æˆ–å…ƒç±»ç¼–ç¨‹  
2. `__init__`ï¼šè´Ÿè´£**åˆå§‹åŒ–**å®ä¾‹ï¼ˆçœŸæ­£çš„æ„é€ å‡½æ•°ï¼‰  
   - å®ä¾‹æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯`self`  
   - ä¸èƒ½è¿”å›å€¼ï¼ˆæˆ–åªèƒ½è¿”å›`None`ï¼‰

> âš ï¸ **å±é™©è­¦å‘Š**ï¼š  
> æ»¥ç”¨ `__new__` ä¼šç ´åç»§æ‰¿ä½“ç³»ï¼  
> **ä»…å½“éœ€è¦æ§åˆ¶å®ä¾‹åˆ›å»ºè¿‡ç¨‹æ—¶ä½¿ç”¨**ï¼ˆå¦‚å•ä¾‹ã€å¯¹è±¡æ± ï¼‰

---

## ğŸ”’ ä¸‰ã€å°è£…çš„è‰ºæœ¯ï¼šä»ç§æœ‰å±æ€§åˆ°å±æ€§æè¿°ç¬¦

### 1. ç§æœ‰å±æ€§çš„çœŸç›¸
```python
class BankAccount:
    def __init__(self, balance):
        self.__balance = balance  # åŒä¸‹åˆ’çº¿è§¦å‘åç§°é‡æ•´
    
    def deposit(self, amount):
        self.__balance += amount
    
    def get_balance(self):
        return self.__balance

account = BankAccount(100)
print(account.get_balance())  # 100

# å°è¯•ç›´æ¥è®¿é—®
try:
    print(account.__balance)
except AttributeError:
    # å®é™…åç§°å·²è¢«é‡æ•´ä¸º _BankAccount__balance
    print(account._BankAccount__balance)  # 100 â€”â€” ä»å¯è®¿é—®ï¼
```

**å°è£…çš„Pythonå“²å­¦**ï¼š  
> **"æˆ‘ä»¬éƒ½æ˜¯è´Ÿè´£ä»»çš„æˆå¹´äºº"**  
> - å•ä¸‹åˆ’çº¿ `_var`ï¼šçº¦å®šä¸º"å†…éƒ¨ä½¿ç”¨"ï¼ˆçº¦å®šï¼Œéå¼ºåˆ¶ï¼‰  
> - åŒä¸‹åˆ’çº¿ `__var`ï¼šè§¦å‘**åç§°é‡æ•´**ï¼ˆname manglingï¼‰`_ClassName__var`  
> - æ²¡æœ‰çœŸæ­£çš„ç§æœ‰å±æ€§ï¼ä½†é€šè¿‡çº¦å®šå®ç°åä½œå¼å°è£…

---

### 2. @propertyï¼šå°†æ–¹æ³•ä¼ªè£…ä¸ºå±æ€§
```python
class Temperature:
    def __init__(self, celsius):
        self._celsius = celsius
    
    @property
    def celsius(self):
        """è·å–æ‘„æ°æ¸©åº¦ï¼ˆåªè¯»ï¼‰"""
        return self._celsius
    
    @property
    def fahrenheit(self):
        """åŠ¨æ€è®¡ç®—åæ°æ¸©åº¦"""
        return self._celsius * 9/5 + 32
    
    @fahrenheit.setter
    def fahrenheit(self, value):
        """é€šè¿‡åæ°æ¸©åº¦è®¾ç½®æ‘„æ°æ¸©åº¦"""
        self._celsius = (value - 32) * 5/9

temp = Temperature(25)
print(temp.fahrenheit)  # 77.0
temp.fahrenheit = 100
print(temp.celsius)     # 37.777777...
```

**@propertyçš„éšè—åŠ›é‡**ï¼š  
âœ… ä¿æŒæ¥å£ç¨³å®šçš„åŒæ—¶æ”¹å˜å†…éƒ¨å®ç°  
âœ… æ·»åŠ éªŒè¯é€»è¾‘è€Œä¸ç ´åç°æœ‰è°ƒç”¨  
âœ… å®ç°è®¡ç®—å±æ€§ï¼ˆåŠ¨æ€ç”Ÿæˆå€¼ï¼‰

> ğŸ’ **å¤§å¸ˆçº§æŠ€å·§**ï¼š  
> ```python
> class LazyProperty:
>     def __init__(self, func):
>         self.func = func
>         self.__name__ = func.__name__
>     
>     def __get__(self, instance, owner):
>         if instance is None:
>             return self
>         value = self.func(instance)
>         setattr(instance, self.__name__, value)
>         return value
> 
> class ExpensiveObject:
>     @LazyProperty
>     def heavy_computation(self):
>         # æ¨¡æ‹Ÿè€—æ—¶è®¡ç®—
>         print("Computing...")
>         return sum(i*i for i in range(10**6))
> 
> obj = ExpensiveObject()
> print(obj.heavy_computation)  # è¾“å‡º "Computing..." å¹¶è¿”å›ç»“æœ
> print(obj.heavy_computation)  # ç›´æ¥è¿”å›ç¼“å­˜ç»“æœï¼ˆæ— æ‰“å°ï¼‰
> ```

---

## ğŸ§¬ å››ã€ç»§æ‰¿çš„é»‘æš—é¢ä¸å…‰æ˜é¢

### 1. å¤šç»§æ‰¿çš„é™·é˜±ä¸æ•‘èµ
```python
class A:
    def process(self):
        print("A.process")

class B(A):
    def process(self):
        print("B.process")
        super().process()

class C(A):
    def process(self):
        print("C.process")
        super().process()

class D(B, C):
    def process(self):
        print("D.process")
        super().process()

d = D()
d.process()
# è¾“å‡ºï¼š
# D.process
# B.process
# C.process
# A.process
```

**æ–¹æ³•è§£æé¡ºåº(MRO)æ­ç§˜**ï¼š  
`D.mro() == [D, B, C, A, object]`  
Pythonä½¿ç”¨**C3çº¿æ€§åŒ–ç®—æ³•**è§£å†³å¤šç»§æ‰¿é¡ºåºé—®é¢˜ï¼Œè§„åˆ™ï¼š  
1. å­ç±»åœ¨çˆ¶ç±»ä¹‹å‰  
2. ä¿æŒçˆ¶ç±»å£°æ˜é¡ºåº  
3. ç›¸åŒå±‚çº§çš„ç±»ï¼Œå…ˆå£°æ˜çš„ä¼˜å…ˆ

> ğŸš¨ **è‡´å‘½é™·é˜±**ï¼š  
> ä¸æŒ‰ **"é’»çŸ³ç»§æ‰¿"** è§„èŒƒè®¾è®¡ï¼š  
> ```python
> class X:
>     def exec(self):
>         print("X.exec")
> 
> class Y(X):
>     pass
> 
> class Z(X):
>     def exec(self):
>         print("Z.exec")
> 
> class W(Y, Z):
>     pass
> 
> W().exec()  # è¾“å‡º "Z.exec" â€”â€” å¯èƒ½ä¸æ˜¯ä½ æœŸæœ›çš„ï¼
> ```
> **è§£å†³æ–¹æ¡ˆ**ï¼šå§‹ç»ˆé€šè¿‡`super()`è°ƒç”¨ï¼Œä¸è¦ç¡¬ç¼–ç çˆ¶ç±»å

---

### 2. ç»„åˆä¼˜äºç»§æ‰¿ï¼šç°ä»£OOPçš„åŸºçŸ³
```python
# é”™è¯¯æ–¹å¼ï¼šæ»¥ç”¨ç»§æ‰¿
class AdminUser(User):
    def delete_user(self, user_id):
        print(f"Admin deleted user #{user_id}")

class PremiumUser(User):
    def get_discount(self):
        print("20% discount")

# æ··åˆè§’è‰²æ—¶å‡ºç°é—®é¢˜
class SuperUser(AdminUser, PremiumUser):  # å¯èƒ½çš„è§’è‰²å†²çªï¼

# ä¸“ä¸šæ–¹å¼ï¼šç»„åˆä¸åè®®
class PermissionProtocol:
    def has_permission(self, permission):
        ...

class Role:
    def __init__(self, name, permissions):
        self.name = name
        self.permissions = set(permissions)

class User:
    def __init__(self, name, roles=None):
        self.name = name
        self.roles = roles or [Role("user", [])]
    
    def has_permission(self, permission):
        return any(permission in role.permissions for role in self.roles)

# åŠ¨æ€åˆ†é…è§’è‰²
admin_role = Role("admin", ["delete_user"])
alice = User("Alice", roles=[admin_role])
```

> ğŸŒŸ **OOPè®¾è®¡åŸåˆ™**ï¼š  
> **"ç»§æ‰¿æè¿°'æ˜¯ä»€ä¹ˆ'ï¼Œç»„åˆæè¿°'æœ‰ä»€ä¹ˆ'"**  
> - ç»§æ‰¿ï¼šè¡¨ç¤º**is-a**å…³ç³»ï¼ˆStudent is a Personï¼‰  
> - ç»„åˆï¼šè¡¨ç¤º**has-a**å…³ç³»ï¼ˆCar has an Engineï¼‰

---

## ğŸ¦† äº”ã€å¤šæ€çš„Pythonå¼å®ç°ï¼šé¸­å­ç±»å‹çš„è‰ºæœ¯

### 1. é¸­å­ç±»å‹çš„ç²¾é«“
> **"å¦‚æœå®ƒèµ°èµ·æ¥åƒé¸­å­ï¼Œå«èµ·æ¥åƒé¸­å­ï¼Œé‚£å®ƒå°±æ˜¯é¸­å­â€”â€”ä¸éœ€è¦ç»§æ‰¿Duckç±»"**

```python
def process_image(image):
    """æ¥å—ä»»ä½•å…·æœ‰'open'å’Œ'save'æ–¹æ³•çš„å¯¹è±¡"""
    img = image.open()
    img.filter("blur")
    img.save()

# å®Œå…¨ä¸åŒçš„ç±»ï¼Œä½†æ»¡è¶³åè®®
class PNGImage:
    def open(self):
        return PNGProcessor()
    def save(self):
        ...

class JPEGImage:
    def open(self):
        return JPEGProcessor()
    def save(self):
        ...

# ç”šè‡³å¯ä»¥æ˜¯å­—å…¸
process_image({
    "open": lambda: MockProcessor(),
    "save": lambda: print("Saved")
})
```

**é¸­å­ç±»å‹çš„ä¸‰å¤§ä¼˜åŠ¿**ï¼š  
âœ… å‡å°‘ä¸å¿…è¦çš„ç»§æ‰¿  
âœ… æé«˜ä»£ç çµæ´»æ€§  
âœ… ä¿ƒè¿›æ¾è€¦åˆè®¾è®¡

---

### 2. æŠ½è±¡åŸºç±»(ABC)ï¼šç»“æ„åŒ–é¸­å­ç±»å‹
```python
from abc import ABC, abstractmethod

class Image(ABC):
    @abstractmethod
    def open(self):
        ...
    
    @abstractmethod
    def save(self):
        ...

# å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³•ï¼Œå¦åˆ™æ— æ³•å®ä¾‹åŒ–
class PNGImage(Image):
    def open(self):
        return PNGProcessor()
    
    # å¿˜è®°å®ç°saveï¼Ÿâ€”â€”TypeError: Can't instantiate abstract class

# æ³¨å†Œè™šæ‹Ÿå­ç±»ï¼ˆæ— éœ€ç»§æ‰¿ï¼‰
@Image.register
class DynamicImage:
    def open(self):
        ...
    def save(self):
        ...
    
print(isinstance(DynamicImage(), Image))  # True
```

> ğŸ§© **å…³é”®åœºæ™¯**ï¼š  
> **éœ€è¦å¼ºåˆ¶æ¥å£å®ç°æ—¶ç”¨ABCï¼Œå…¶ä»–æƒ…å†µä¼˜å…ˆç”¨é¸­å­ç±»å‹**  
> - æ•°æ®æ¨¡å‹ç±»ï¼ˆåºåˆ—ã€æ˜ å°„ï¼‰  
> - æ’ä»¶æ¶æ„çš„æ ¸å¿ƒåè®®  
> - ä¸¥æ ¼ç±»å‹éªŒè¯çš„APIå…¥å£

---

## ğŸ”® å…­ã€ç‰¹æ®Šæ–¹æ³•ï¼šæ„å»ºPythonicå¯¹è±¡çš„é­”æ³•

### 1. æ•°å€¼æ“ä½œåè®®
```python
from functools import total_ordering

@total_ordering
class Vector:
    """å¯æ¯”è¾ƒã€å¯è¿ç®—çš„å‘é‡"""
    def __init__(self, x, y):
        self.x = x
        self.y = y
    
    # æ•°å€¼åè®®
    def __add__(self, other):
        return Vector(self.x + other.x, self.y + other.y)
    
    def __mul__(self, scalar):
        return Vector(self.x * scalar, self.y * scalar)
    
    # æ¯”è¾ƒåè®®ï¼ˆåªéœ€å®ç°<=å’Œ==ï¼‰
    def __eq__(self, other):
        return (self.x, self.y) == (other.x, other.y)
    
    def __lt__(self, other):
        return (self.x**2 + self.y**2) < (other.x**2 + other.y**2)

v1 = Vector(2, 3)
v2 = Vector(1, 4)
print(v1 + v2)      # Vector(3, 7)
print(v1 * 2)       # Vector(4, 6)
print(v1 < v2)      # Trueï¼ˆå› ä¸º 2Â²+3Â²=13 < 1Â²+4Â²=17ï¼‰
```

**æ•°å€¼åè®®æ ¸å¿ƒæ–¹æ³•**ï¼š  
| ç”¨é€”          | æ–¹æ³•                  |
|---------------|-----------------------|
| åŠ æ³•          | `__add__`, `__radd__` |
| ä¹˜æ³•          | `__mul__`, `__rmul__` |
| æ¯”è¾ƒ           | `__eq__`, `__lt__`ç­‰  |
| çœŸå€¼åˆ¤æ–­       | `__bool__`            |
| é•¿åº¦           | `__len__`             |

---

### 2. å®¹å™¨åè®®ï¼šæ‰“é€ è‡ªå®šä¹‰é›†åˆ
```python
class PriorityQueue:
    """æ”¯æŒä¼˜å…ˆçº§çš„é˜Ÿåˆ—"""
    def __init__(self):
        self._items = []
    
    def push(self, item, priority):
        self._items.append((priority, item))
        self._items.sort(reverse=True)  # é«˜ä¼˜å…ˆçº§åœ¨å‰
    
    # å®¹å™¨åè®®
    def __len__(self):
        return len(self._items)
    
    def __getitem__(self, index):
        """æ”¯æŒä¸‹æ ‡è®¿é—®"""
        return self._items[index][1]  # åªè¿”å›item
    
    def __iter__(self):
        """æ”¯æŒè¿­ä»£"""
        for priority, item in self._items:
            yield item
    
    def __contains__(self, item):
        """æ”¯æŒ 'in' æ“ä½œ"""
        return any(i == item for _, i in self._items)

pq = PriorityQueue()
pq.push("task1", 3)
pq.push("task2", 1)
pq.push("task3", 2)

print(len(pq))    # 3
print(pq[0])      # "task1"
for task in pq:   # "task1", "task3", "task2"
    print(task)
print("task2" in pq)  # True
```

> âš™ï¸ **å®¹å™¨åè®®ä¸“å®¶æç¤º**ï¼š  
> åªéœ€å®ç°å°‘é‡æ–¹æ³•ï¼Œå³å¯è·å¾—å®Œæ•´é›†åˆè¡Œä¸ºï¼š  
> ```python
> class MyList:
>     def __init__(self, items):
>         self.items = items
>     
>     def __getitem__(self, index):
>         return self.items[index]
>     
>     def __len__(self):
>         return len(self.items)
> 
> # ç«‹å³æ”¯æŒåˆ‡ç‰‡ã€è¿­ä»£ã€inæ£€æŸ¥ç­‰æ“ä½œï¼
> ```

---

## ğŸ§ª ä¸ƒã€é¢å‘å¯¹è±¡çš„æ€§èƒ½é™·é˜±ä¸ä¼˜åŒ–

### 1. __slots__ï¼šå†…å­˜ä¼˜åŒ–å¤§æ€å™¨
```python
import sys

class RegularClass:
    def __init__(self, x, y):
        self.x = x
        self.y = y

class SlottedClass:
    __slots__ = ('x', 'y')  # å®šä¹‰å…è®¸çš„å±æ€§
    
    def __init__(self, x, y):
        self.x = x
        self.y = y

# å†…å­˜å¯¹æ¯”
regular = RegularClass(1, 2)
slotted = SlottedClass(1, 2)

print(sys.getsizeof(regular))  # ~56å­—èŠ‚ + __dict__é¢å¤–å ç”¨
print(sys.getsizeof(slotted))  # ~56å­—èŠ‚ï¼ˆæ— __dict__ï¼ï¼‰

# å®ä¾‹å±æ€§å­˜å‚¨æ–¹å¼
print(hasattr(regular, "__dict__"))  # True
print(hasattr(slotted, "__dict__"))  # False

# ä½†å¤±å»åŠ¨æ€å±æ€§èƒ½åŠ›
try:
    slotted.z = 3
except AttributeError:  # ä¸èƒ½æ·»åŠ æœªå£°æ˜çš„å±æ€§
    pass
```

**__slots__ é€‚ç”¨åœºæ™¯**ï¼š  
âœ… éœ€è¦åˆ›å»ºå¤§é‡å®ä¾‹çš„å¯¹è±¡ï¼ˆå¦‚æ¸¸æˆä¸­çš„ç²’å­ï¼‰  
âœ… å±æ€§å›ºå®šçš„é«˜æ€§èƒ½æ•°æ®å®¹å™¨  
âœ… å†…å­˜æ•æ„Ÿçš„æ ¸å¿ƒç³»ç»Ÿç»„ä»¶

> âš¡ **åŸºå‡†æµ‹è¯•**ï¼š  
> 100ä¸‡æ¬¡å®ä¾‹åŒ–çš„å†…å­˜æ¶ˆè€—ï¼š  
> - æ™®é€šç±»ï¼šâ‰ˆ 207 MB  
> - å¸¦ slots ç±»ï¼šâ‰ˆ 45 MB **ï¼ˆå‡å°‘78%å†…å­˜ï¼ï¼‰**

---

### 2. __new__ vs __init__ï¼šåˆ›å»ºé€Ÿåº¦çš„ç»ˆæå¯¹å†³
```python
import timeit

class FastObject:
    __slots__ = ('name', 'age')
    
    def __new__(cls, name, age):
        self = super(FastObject, cls).__new__(cls)
        self.name = name
        self.age = age
        return self

class NormalObject:
    def __init__(self, name, age):
        self.name = name
        self.age = age

# æ€§èƒ½å¯¹æ¯”
print(timeit.timeit(
    "FastObject('Alice', 30)", 
    "from __main__ import FastObject",
    number=1_000_000
))  # çº¦ 0.15 ç§’

print(timeit.timeit(
    "NormalObject('Alice', 30)", 
    "from __main__ import NormalObject",
    number=1_000_000
))  # çº¦ 0.23 ç§’ï¼ˆæ…¢35%ï¼ï¼‰
```

**å¯¹è±¡åˆ›å»ºä¼˜åŒ–çŸ©é˜µ**ï¼š  
| æŠ€æœ¯                | å†…å­˜ä¼˜åŒ– | åˆ›å»ºé€Ÿåº¦ | çµæ´»æ€§ | é€‚ç”¨åœºæ™¯               |
|---------------------|----------|----------|--------|------------------------|
| æ™®é€šç±»              | åŸºå‡†     | åŸºå‡†     | æœ€é«˜   | é€šç”¨åœºæ™¯               |
| __slots__           | â†‘ 70%    | â†‘ 15%    | é™ä½   | é«˜é¢‘å°å¯¹è±¡             |
| æœ‰__new__çš„__slots__| â†‘ 75%    | â†‘ 35%    | æœ€ä½   | æè‡´æ€§èƒ½å…³é”®è·¯å¾„       |
| namedtuple          | â†‘ 50%    | â†‘ 20%    | åªè¯»   | ä¸å˜æ•°æ®è®°å½•           |

---

## ğŸŒ å…«ã€ç°ä»£OOPæ¶æ„ï¼šä»å•ä½“åˆ°ç»„ä»¶åŒ–

### 1. é¢†åŸŸé©±åŠ¨è®¾è®¡(DDD)å®ç°
```python
# é¢†åŸŸæ¨¡å‹
class Product:
    def __init__(self, id, name, price):
        self.id = id
        self.name = name
        self.price = price
    
    def apply_discount(self, percentage):
        self.price *= (1 - percentage)
        return self

# å€¼å¯¹è±¡
class Address:
    def __init__(self, street, city, zip_code):
        self.street = street
        self.city = city
        self.zip_code = zip_code
    
    def __eq__(self, other):
        return (self.street, self.city, self.zip_code) == \
               (other.street, other.city, other.zip_code)

# èšåˆæ ¹
class Order:
    def __init__(self, id, customer_id):
        self.id = id
        self.customer_id = customer_id
        self.items = []
        self._status = "PENDING"
    
    @property
    def status(self):
        return self._status
    
    def add_item(self, product, quantity):
        self.items.append({
            "product": product,
            "quantity": quantity,
            "total": product.price * quantity
        })
    
    def confirm(self):
        if not self.items:
            raise ValueError("Cannot confirm empty order")
        self._status = "CONFIRMED"
        # è§¦å‘é¢†åŸŸäº‹ä»¶
        EventDispatcher.dispatch(OrderConfirmedEvent(self.id))

# ä»“å‚¨æ¥å£
class OrderRepository(ABC):
    @abstractmethod
    def save(self, order: Order):
        pass
    
    @abstractmethod
    def find_by_id(self, id) -> Order:
        pass

# å…·ä½“å®ç°
class SQLOrderRepository(OrderRepository):
    def __init__(self, db_connection):
        self.db = db_connection
    
    def save(self, order):
        # æ‰§è¡ŒSQLä¿å­˜
        ...
```

> **DDDæ ¸å¿ƒæ€æƒ³**ï¼š  
> - æ¨¡å‹ä¸å®ç°åŒæ­¥æ¼”è¿›  
> - éš”ç¦»æ ¸å¿ƒé¢†åŸŸé€»è¾‘  
> - ç”¨å¯¹è±¡è¡¨è¾¾ä¸šåŠ¡è§„åˆ™  
> **"ä»£ç å³ä¸šåŠ¡æ–‡æ¡£"**

---

### 2. ç»„ä»¶åŒ–æ¶æ„ï¼šè¶…è¶Šç»§æ‰¿çš„ç»„åˆé©å‘½
```python
# ç»„ä»¶åŸºç±»
class Component:
    def __init__(self, **kwargs):
        for k, v in kwargs.items():
            setattr(self, k, v)

# å…·ä½“ç»„ä»¶
class PhysicsComponent(Component):
    def __init__(self, mass, friction, **kwargs):
        super().__init__(**kwargs)
        self.mass = mass
        self.friction = friction
    
    def update_physics(self, delta_time):
        # ç‰©ç†æ¨¡æ‹Ÿé€»è¾‘
        ...

class GraphicsComponent(Component):
    def __init__(self, sprite, **kwargs):
        super().__init__(**kwargs)
        self.sprite = sprite
    
    def render(self, screen):
        screen.blit(self.sprite)

# æ¸¸æˆå®ä½“ï¼ˆç»„åˆç»„ä»¶ï¼‰
class Entity:
    def __init__(self, *components):
        self.components = {}
        for comp in components:
            self.add_component(comp)
    
    def add_component(self, component):
        comp_type = type(component)
        self.components[comp_type] = component
    
    def get_component(self, comp_type):
        return self.components.get(comp_type)
    
    def update(self, delta_time):
        if phys := self.get_component(PhysicsComponent):
            phys.update_physics(delta_time)

# åˆ›å»ºæ¸¸æˆå¯¹è±¡
player = Entity(
    PhysicsComponent(mass=70, friction=0.8),
    GraphicsComponent(sprite="player.png", layer=2)
)

# è®¿é—®ç»„ä»¶
physics = player.get_component(PhysicsComponent)
physics.mass *= 1.5  # å¢å¼ºè§’è‰²
```

**ç»„ä»¶æ¨¡å¼ä¼˜åŠ¿**ï¼š  
âœ… åŠ¨æ€ä¿®æ”¹å¯¹è±¡èƒ½åŠ›ï¼ˆè¿è¡Œæ—¶æ·»åŠ /ç§»é™¤ç»„ä»¶ï¼‰  
âœ… é¿å…ç»§æ‰¿å±‚çº§çˆ†ç‚¸  
âœ… ä¿ƒè¿›ä»£ç å¤ç”¨å’Œæ¨¡å—åŒ–  
âœ… å®Œç¾é€‚åˆæ¸¸æˆå¼€å‘ã€GUIç³»ç»Ÿ

---

## ğŸ”® ä¹ã€é«˜é˜¶OOPï¼šå…ƒç±»ä¸æ¶æ„é­”æ³•

### 1. å…ƒç±»å®æˆ˜ï¼šè‡ªæ³¨å†Œå·¥å‚
```python
class Registry(type):
    """è‡ªåŠ¨å°†å­ç±»æ³¨å†Œåˆ°å·¥å‚"""
    _registry = {}
    
    def __new__(mcs, name, bases, attrs):
        cls = super().__new__(mcs, name, bases, attrs)
        # è·³è¿‡åŸºç±»æ³¨å†Œ
        if name != "Model":
            Registry._registry[name.lower()] = cls
        return cls
    
    @classmethod
    def get_model(cls, name):
        return cls._registry[name]

class Model(metaclass=Registry):
    pass

class User(Model):
    pass

class Product(Model):
    pass

# æ— éœ€æ‰‹åŠ¨æ³¨å†Œ
print(Registry.get_model("user"))    # <class '__main__.User'>
print(Registry.get_model("product")) # <class '__main__.Product'>
```

**å…ƒç±»æ‰§è¡Œé¡ºåº**ï¼š  
1. ç±»å®šä¹‰æ—¶ï¼š  
   - æ‰§è¡Œç±»ä½“ä»£ç   
   - åˆ›å»ºç±»å­—å…¸ï¼ˆåŒ…å«æ–¹æ³•å’Œå±æ€§ï¼‰  
   - è°ƒç”¨å…ƒç±»çš„ `__new__`  
   - è°ƒç”¨å…ƒç±»çš„ `__init__`  
2. å®ä¾‹åŒ–æ—¶ï¼š  
   - è°ƒç”¨ç±»çš„ `__new__`  
   - è°ƒç”¨ç±»çš„ `__init__`

> âš ï¸ **è­¦å‘Š**ï¼š  
> **"å…ƒç±»æ˜¯99%ä»£ç ä¸éœ€è¦çš„é‡å‹æ­¦å™¨"**  
> ä»…åœ¨ä»¥ä¸‹åœºæ™¯ä½¿ç”¨ï¼š  
> - å…¨å±€æ³¨å†Œè¡¨ï¼ˆå¦‚ORMæ¨¡å‹ï¼‰  
> - æ¡†æ¶çº§æ¶æ„çº¦æŸ  
> - ä»£ç ç”Ÿæˆ/ä¿®æ”¹ï¼ˆå¦‚è‡ªåŠ¨åºåˆ—åŒ–ï¼‰

---

### 2. æè¿°ç¬¦åè®®ï¼šå±æ€§æ§åˆ¶çš„ç»ˆææ­¦å™¨
```python
class Typed:
    """å¼ºåˆ¶ç±»å‹æ£€æŸ¥çš„æè¿°ç¬¦"""
    def __init__(self, type_):
        self.type_ = type_
        self.data = {}
    
    def __get__(self, instance, owner):
        if instance is None:
            return self
        return self.data.get(id(instance))
    
    def __set__(self, instance, value):
        if not isinstance(value, self.type_):
            raise TypeError(f"Expected {self.type_.__name__}")
        self.data[id(instance)] = value
    
    def __delete__(self, instance):
        del self.data[id(instance)]

class Person:
    name = Typed(str)
    age = Typed(int)
    
    def __init__(self, name, age):
        self.name = name
        self.age = age

p = Person("Alice", 30)
p.age = "thirty"  # TypeError: Expected int
```

**æè¿°ç¬¦ç±»å‹å¯¹æ¯”**ï¼š  
| ç±»å‹           | è§¦å‘æ¡ä»¶                     | å…¸å‹åº”ç”¨               |
|----------------|------------------------------|------------------------|
| æ•°æ®æè¿°ç¬¦     | æœ‰__set__æˆ–__delete__        | @property, Typedå­—æ®µ   |
| éæ•°æ®æè¿°ç¬¦   | åªæœ‰__get__                  | æ™®é€šæ–¹æ³•               |
| ä¼˜å…ˆçº§è§„åˆ™     | å®ä¾‹å­—å…¸ > æ•°æ®æè¿°ç¬¦ > éæ•°æ®æè¿°ç¬¦ | ä¿è¯å±æ€§è®¿é—®ä¸€è‡´æ€§     |

---

## ğŸ§ª åã€é¢å‘å¯¹è±¡åæ¨¡å¼ï¼šèº²å¼€è¿™äº›è‡´å‘½é™·é˜±

### 1. God Objectï¼šä¸‡èƒ½ç±»çš„è¯…å’’
```python
# å±é™©ä»£ç ï¼ç»ä¸è¦è¿™æ ·å†™
class GodClass:
    def __init__(self):
        self.data = {}
    
    def process_order(self): ...
    def send_email(self): ...
    def calculate_tax(self): ...
    def generate_report(self): ...
    def save_to_db(self): ...
    # 200+ä¸ªå…¶ä»–æ–¹æ³•...
```

**God Objectçš„ç—‡çŠ¶**ï¼š  
âŒ è¶…è¿‡500è¡Œä»£ç   
âŒ åŒ…å«ä¸ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘  
âŒ ä¿®æ”¹ä¸€å¤„å¯èƒ½ç ´åå…¶ä»–åŠŸèƒ½  
âŒ æµ‹è¯•è¦†ç›–ç‡æä½

> ğŸ’Š **è§£è¯é…æ–¹**ï¼š  
> 1. è¯†åˆ«ç•Œé™ä¸Šä¸‹æ–‡ï¼ˆç”¨`# === DOMAIN BOUNDARY ===`æ ‡è®°ï¼‰  
> 2. æŒ‰èŒè´£æ‹†åˆ†ä¸ºé¢†åŸŸå¯¹è±¡  
> 3. ä½¿ç”¨å¤–è§‚æ¨¡å¼(Facade)ä¿æŒæ¥å£ç®€å•

---

### 2. ç»§æ‰¿æ»¥ç”¨ï¼šè„†å¼±çš„åŸºç±»é—®é¢˜
```python
class FileLogger:
    def log(self, message):
        with open("log.txt", "a") as f:
            f.write(message + "\n")

# æŸå¤©éœ€è¦æ·»åŠ æ—¶é—´æˆ³
class TimestampLogger(FileLogger):
    def log(self, message):
        super().log(f"[{time.ctime()}] {message}")  # ä¿®æ”¹äº†è¡Œä¸º

# é—®é¢˜ï¼šå…¶ä»–ç»§æ‰¿FileLoggerçš„ç±»ä¹Ÿéœ€è¦æ—¶é—´æˆ³å—ï¼Ÿ
class EmailLogger(FileLogger):
    def log(self, message):
        # æœŸå¾…åŸå§‹FileLoggerè¡Œä¸º...
        super().log(message)
        send_email(...)  # ä½†åŸºç±»è¡Œä¸ºå·²æ”¹å˜ï¼
```

**ç»§æ‰¿çš„è„†å¼±æ€§æœ¬è´¨**ï¼š  
å­ç±»è¿‡åº¦ä¾èµ–åŸºç±»å®ç°ç»†èŠ‚ï¼ŒåŸºç±»ä¿®æ”¹å¯¼è‡´"æ¶Ÿæ¼ªæ•ˆåº”"

> âœ… **ä¸“ä¸šè§£å†³æ–¹æ¡ˆ**ï¼š  
> ```python
> # ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼
> class Logger:
>     def log(self, message):
>         raise NotImplementedError
> 
> class FileLogger(Logger):
>     def log(self, message):
>         ...
> 
> class TimestampDecorator(Logger):
>     def __init__(self, logger):
>         self.logger = logger
>     
>     def log(self, message):
>         self.logger.log(f"[{time.ctime()}] {message}")
> 
> # ç»„åˆæ–¹å¼åº”ç”¨åŠŸèƒ½
> logger = TimestampDecorator(FileLogger())
> logger.log("System started")
> ```

---

## ğŸ§ª åä¸€ã€ç°ä»£OOPå·¥å…·ç®±ï¼šæå‡ä½ çš„æ¶æ„çº§åˆ«

### 1. æ•°æ®ç±» vs TypedDict vs å‘½åå…ƒç»„
```python
from dataclasses import dataclass, field
from typing import TypedDict, NamedTuple
from collections import namedtuple

# 1. å‘½åå…ƒç»„ï¼ˆä¸å¯å˜ï¼Œè½»é‡çº§ï¼‰
PersonNT = namedtuple("Person", ["name", "age"])

# 2. TypedDictï¼ˆç±»å‹å®‰å…¨çš„å­—å…¸æ›¿ä»£ï¼‰
class PersonTD(TypedDict):
    name: str
    age: int

# 3. æ•°æ®ç±»ï¼ˆå®Œå…¨å¯¹è±¡åŒ–ï¼‰
@dataclass
class PersonDC:
    name: str
    age: int
    hobbies: list = field(default_factory=list)

# ä¸“ä¸šå¯¹æ¯”
alice_nt = PersonNT("Alice", 30)       # å†…å­˜æœ€å°ï¼Œä¸å¯å˜
alice_td: PersonTD = {"name": "Alice", "age": 30}  # ç±»å‹æ£€æŸ¥å‹å¥½
alice_dc = PersonDC("Alice", 30, ["coding"])  # åŠŸèƒ½æœ€å…¨
```

**å¯¹è±¡å»ºæ¨¡é€‰æ‹©æŒ‡å—**ï¼š  
| åœºæ™¯                          | æ¨èæ–¹æ¡ˆ          |
|-------------------------------|-------------------|
| ä¸å˜æ•°æ®è®°å½•                  | NamedTuple        |
| å­—å…¸æ›¿ä»£å“ï¼ˆJSONå‹å¥½ï¼‰        | TypedDict         |
| é¢†åŸŸå¯¹è±¡/éœ€è¦æ–¹æ³•             | dataclass         |
| éœ€è¦ç»§æ‰¿/å¤æ‚è¡Œä¸º             | æ™®é€šç±»            |
| æ€§èƒ½å…³é”®çš„å°å¯¹è±¡              | __slots__ç±»       |

---

### 2. åè®®ç±»(PEP 544)ï¼šä¼˜é›…çš„ç±»å‹çº¦æŸ
```python
from typing import Protocol, runtime_checkable

@runtime_checkable
class Drawable(Protocol):
    def draw(self, canvas) -> None:
        ...

class Circle:
    def draw(self, canvas):
        print("Drawing circle")

class Square:
    def render(self, surface):  # é”™è¯¯æ–¹æ³•å
        print("Drawing square")

def render_all(elements: list[Drawable], canvas):
    for elem in elements:
        elem.draw(canvas)  # ç±»å‹æ£€æŸ¥å™¨çŸ¥é“æ‰€æœ‰å…ƒç´ æœ‰drawæ–¹æ³•

# é™æ€ç±»å‹æ£€æŸ¥é€šè¿‡
render_all([Circle()], "canvas")

# è¿è¡Œæ—¶æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰
from typing import runtime_checkable
@runtime_checkable
class Drawable(Protocol):
    ...

isinstance(Square(), Drawable)  # False
```

> ğŸ”¥ **åè®®ç±»ä¼˜åŠ¿**ï¼š  
> æ— éœ€ç»§æ‰¿å³å¯å®ç°æ¥å£çº¦æŸ  
> å®Œç¾æ”¯æŒé¸­å­ç±»å‹çš„åŒæ—¶è·å¾—ç±»å‹å®‰å…¨  
> æ›¿ä»£ABCçš„è½»é‡çº§æ–¹æ¡ˆï¼ˆPython 3.8+ï¼‰

---

## ğŸ’ åäºŒã€ç»ˆææµ‹è¯•ï¼šé¢å‘å¯¹è±¡å¤§å¸ˆæŒ‘æˆ˜

### é—®é¢˜1ï¼šä¿®å¤å¾ªç¯ä¾èµ–
```python
# module_a.py
from module_b import B

class A:
    def __init__(self):
        self.b = B()  # å¾ªç¯ä¾èµ–ï¼

# module_b.py
from module_a import A

class B:
    def __init__(self):
        self.a = A()  # åŒå‘ä¾èµ–å¯¼è‡´å¯¼å…¥å¤±è´¥
```

**ä¸“ä¸šè§£å†³æ–¹æ¡ˆ**ï¼š  
```python
# module_a.py
class A:
    def __init__(self):
        # å»¶è¿Ÿå¯¼å…¥è§£å†³å¾ªç¯ä¾èµ–
        from module_b import B
        self.b = B(self)  # ä¼ å…¥è‡ªèº«è€Œéåˆ›å»ºæ–°å®ä¾‹

# module_b.py
class B:
    def __init__(self, a_instance):  # æ¥æ”¶ç°æœ‰Aå®ä¾‹
        self.a = a_instance
```

---

### é—®é¢˜2ï¼šå®ç°çº¿ç¨‹å®‰å…¨çš„è§‚å¯Ÿè€…æ¨¡å¼
```python
class Subject:
    def __init__(self):
        self._observers = []
    
    def attach(self, observer):
        self._observers.append(observer)
    
    def notify(self, data):
        for observer in self._observers:
            observer.update(data)
```

**å¤§å¸ˆçº§å®ç°**ï¼š  
```python
from threading import RLock
from weakref import WeakSet

class ThreadSafeSubject:
    def __init__(self):
        self._observers = WeakSet()  # é¿å…å†…å­˜æ³„æ¼
        self._lock = RLock()
    
    def attach(self, observer):
        with self._lock:
            self._observers.add(observer)
    
    def detach(self, observer):
        with self._lock:
            self._observers.discard(observer)
    
    def notify(self, data):
        with self._lock:
            # å¤åˆ¶è§‚å¯Ÿè€…åˆ—è¡¨ï¼Œé¿å…éå†æ—¶ä¿®æ”¹
            observers = list(self._observers)
        
        for observer in observers:
            try:
                observer.update(data)
            except Exception as e:
                # é”™è¯¯éš”ç¦»ï¼Œä¸å½±å“å…¶ä»–è§‚å¯Ÿè€…
                print(f"Observer {observer} failed: {e}")
```

---

### é—®é¢˜3ï¼šè®¾è®¡ç±»å‹å®‰å…¨çš„é¢†åŸŸäº‹ä»¶ç³»ç»Ÿ
```python
class Event:
    """æ‰€æœ‰äº‹ä»¶çš„åŸºç±»"""

class UserCreated(Event):
    def __init__(self, user_id):
        self.user_id = user_id

class EventDispatcher:
    def __init__(self):
        self._handlers = {}
    
    def register(self, event_type, handler):
        # æ³¨å†Œèƒ½å¤„ç†ç‰¹å®šäº‹ä»¶çš„å‡½æ•°
        ...
    
    def dispatch(self, event):
        # é€šçŸ¥æ‰€æœ‰ç›¸å…³å¤„ç†å‡½æ•°
        ...
```

**ä¸“å®¶è§£å†³æ–¹æ¡ˆ**ï¼š  
```python
from typing import Type, Dict, List, Callable, TypeVar, Generic

E = TypeVar('E', bound=Event)

class EventHandler(Protocol[E]):
    def __call__(self, event: E) -> None:
        ...

class EventDispatcher:
    def __init__(self):
        self._handlers: Dict[Type[Event], List[Callable]] = {}
    
    def register(self, event_type: Type[E], handler: EventHandler[E]):
        """ç±»å‹å®‰å…¨çš„äº‹ä»¶æ³¨å†Œ"""
        if event_type not in self._handlers:
            self._handlers[event_type] = []
        self._handlers[event_type].append(handler)
    
    def dispatch(self, event: Event):
        """åªé€šçŸ¥èƒ½å¤„ç†è¯¥äº‹ä»¶çš„å¤„ç†å™¨"""
        event_type = type(event)
        for handler in self._handlers.get(event_type, []):
            handler(event)

# ä½¿ç”¨ç¤ºä¾‹ï¼ˆå¸¦å®Œæ•´ç±»å‹æ£€æŸ¥ï¼‰
dispatcher = EventDispatcher()

def handle_user_created(event: UserCreated):
    print(f"New user created: {event.user_id}")

dispatcher.register(UserCreated, handle_user_created)
dispatcher.dispatch(UserCreated("user123"))  # ç±»å‹æ£€æŸ¥é€šè¿‡
dispatcher.dispatch("not an event")         # ç±»å‹æ£€æŸ¥å¤±è´¥ï¼
```

---

## ğŸŒŒ ç»“è¯­ï¼šOOPçš„æœ¬è´¨æ˜¯è®¤çŸ¥æ¡†æ¶

> **"é¢å‘å¯¹è±¡ä¸æ˜¯è¯­æ³•ï¼Œè€Œæ˜¯äººç±»ç†è§£å¤æ‚ä¸–ç•Œçš„æ€ç»´æ˜ å°„"**

å½“ä½ è®¾è®¡ç±»çš„ç¬é—´ï¼š
- ä½ å®šä¹‰äº†**é—®é¢˜åŸŸçš„è¯æ±‡è¡¨**  
- ä½ æ„å»ºäº†**æ¦‚å¿µé—´çš„å…³ç³»ç½‘ç»œ**  
- ä½ åˆ›é€ äº†**å¯ç»„åˆçš„è®¤çŸ¥ç§¯æœ¨**

**çœŸæ­£çš„Pythonå¤§å¸ˆé¢†æ‚Ÿ**ï¼š  
- å°è£…æ˜¯**è®¤çŸ¥è¾¹ç•Œ**çš„æ˜¾å¼å£°æ˜  
- ç»§æ‰¿æ˜¯**æ¦‚å¿µå±‚æ¬¡**çš„ä¼˜é›…è¡¨è¾¾  
- å¤šæ€æ˜¯**ä¸–ç•Œå¤æ‚æ€§**çš„è¯—æ„å¦¥å  

> ä¸‹æ¬¡å®šä¹‰ç±»å‰ï¼Œè¯·é»˜å¿µï¼š  
> **"æˆ‘ä¸æ˜¯åœ¨å†™ä»£ç ï¼Œ  
> è€Œæ˜¯åœ¨é›•åˆ»æ•°å­—å®‡å®™çš„è®¤çŸ¥æ¨¡å‹"**
